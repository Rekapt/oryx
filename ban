module.exports = {
    name: 'ban',
    discrition: 'This is a ban command',
    execute(client, message, args, Discord){

let { member } = message
if(!member.hasPermission("BAN_MEMBERS")) return message.channel.send(':x:' + ' | You cant use that!')
if(!member.hasPermission("BAN_MEMBERS")) return message.channel.send(':x:' + ' | I dont have the right permissions.')

const member = message.mentions.members.first() || message.guild.members.cache.get(args[0]);

if(!args[0]) return message.channel.send(':x:' + ' | Please specify a user');

if(!member) return message.channel.send(':x:' + ' | Cant seem to find this user. Sorry about that :/');
if(!member.bannable) return message.channel.send(':x:' + ' | This user cant be banned. It is either because they are a mod/admin, or their highest role is higher than mine');

if(member.id === message.author.id) return message.channel.send(':x:' + '| You cant ban yourself!');

let reason = args.slice(1).join(" ");

if(!reason) reason = 'Unspecified';

member.ban(`${reason}`).catch(err => { 
  message.channel.send(':x: ' + ' | Something went wrong')
    console.log(err)
})

const banembed = new Discord.MessageEmbed()
.setTitle('Member Banned')
.setThumbnail(member.user.displayAvatarURL())
.addField('User Banned', member)
.addField('Kicked by', message.author)
.addField('Reason', reason)
.setFooter('Time kicked', client.user.displayAvatarURL())
.setTimestamp()

message.channel.send(banembed);


}
}
